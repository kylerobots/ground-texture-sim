<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ground Texture Sim: ground_texture_sim.configuration_loader Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ground Texture Sim<span id="projectnumber">&#160;4.0.0</span>
   </div>
   <div id="projectbrief">A realistic ground texture data generator for monocular SLAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceground__texture__sim.html">ground_texture_sim</a></li><li class="navelem"><a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html">configuration_loader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ground_texture_sim.configuration_loader Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This module provides the functions necessary to read in all the user's configurations and import the provided trajectory data.  
<a href="namespaceground__texture__sim_1_1configuration__loader.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a201389d7877621877ffa1b216d3a3e9c"><td class="memItemLeft" align="right" valign="top">Dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">_load_config</a> (str filename)</td></tr>
<tr class="memdesc:a201389d7877621877ffa1b216d3a3e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in the user provided configuration JSON.  <a href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">More...</a><br /></td></tr>
<tr class="separator:a201389d7877621877ffa1b216d3a3e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410ba44017ca8657e7d9b6bd9a166f3c"><td class="memItemLeft" align="right" valign="top">List[List[float]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">_load_trajectory</a> (str filename)</td></tr>
<tr class="memdesc:a410ba44017ca8657e7d9b6bd9a166f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in the poses from the trajectory file.  <a href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">More...</a><br /></td></tr>
<tr class="separator:a410ba44017ca8657e7d9b6bd9a166f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41050a2ff4e1589063cbac61d76c7026"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">_parse_args</a> (List[str] args_list)</td></tr>
<tr class="memdesc:a41050a2ff4e1589063cbac61d76c7026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the command line for the location of the configuration file.  <a href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">More...</a><br /></td></tr>
<tr class="separator:a41050a2ff4e1589063cbac61d76c7026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9304abcfe1012a954e4a95f59eb3e1be"><td class="memItemLeft" align="right" valign="top">Tuple[Dict, List[List[float]]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">load_configuration</a> (List[str] args_list)</td></tr>
<tr class="memdesc:a9304abcfe1012a954e4a95f59eb3e1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the command line and read configuration information provided by the arguments.  <a href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">More...</a><br /></td></tr>
<tr class="separator:a9304abcfe1012a954e4a95f59eb3e1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This module provides the functions necessary to read in all the user's configurations and import the provided trajectory data. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a201389d7877621877ffa1b216d3a3e9c" name="a201389d7877621877ffa1b216d3a3e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a201389d7877621877ffa1b216d3a3e9c">&#9670;&nbsp;</a></span>_load_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Dict ground_texture_sim.configuration_loader._load_config </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read in the user provided configuration JSON. </p>
<p >This also checks that all required elements are present. An Exception is raised if not. If an optional element is not present, a default value is assumed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The JSON file to read. May be absolute or relative path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A well-formed dictionary of configuration options. This is guaranteed to have every element referenced by the script. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">FileNotFoundError</td><td>Raised if the file provided in filename does not exist. </td></tr>
    <tr><td class="paramname">KeyError</td><td>Raised if the required entries are not present in the JSON. </td></tr>
    <tr><td class="paramname">JSONDecoderError</td><td>Raised if the file is not in JSON format. </td></tr>
    <tr><td class="paramname">TypeError</td><td>Raised if any values are the incorrect types. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="configuration__loader_8py_source.html#l00032">32</a> of file <a class="el" href="configuration__loader_8py_source.html">configuration_loader.py</a>.</p>
<div class="fragment"><div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">def </span>_load_config(filename: str) -&gt; Dict:</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="stringliteral">    </span><span class="preprocessor">@brief</span> Read <span class="keywordflow">in</span> the user provided configuration JSON.</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    This also checks that all required elements are present. An Exception <span class="keywordflow">is</span> raised <span class="keywordflow">if</span> <span class="keywordflow">not</span>. If an</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    optional element <span class="keywordflow">is</span> <span class="keywordflow">not</span> present, a default value <span class="keywordflow">is</span> assumed.</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="preprocessor">@param</span> filename The JSON file to read. May be absolute <span class="keywordflow">or</span> relative path.</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="preprocessor">@return</span> A well-formed dictionary of configuration options. This <span class="keywordflow">is</span> guaranteed to have every</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    element referenced by the script.</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="preprocessor">@exception</span> FileNotFoundError Raised <span class="keywordflow">if</span> the file provided <span class="keywordflow">in</span> filename does</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keywordflow">not</span> exist.</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="preprocessor">@exception</span> KeyError Raised <span class="keywordflow">if</span> the required entries are <span class="keywordflow">not</span> present <span class="keywordflow">in</span> the</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    JSON.</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="preprocessor">@exception</span> JSONDecoderError Raised <span class="keywordflow">if</span> the file <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> JSON format.</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="preprocessor">@exception</span> TypeError Raised <span class="keywordflow">if</span> any values are the incorrect types.</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="stringliteral">    </span><span class="keyword">with</span> open(file=filename, mode=<span class="stringliteral">&#39;r&#39;</span>, encoding=<span class="stringliteral">&#39;utf8&#39;</span>) <span class="keyword">as</span> file:</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        configs = json.load(fp=file)</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="comment"># Check for required top level options</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    required_keys = [<span class="stringliteral">&#39;output&#39;</span>, <span class="stringliteral">&#39;trajectory&#39;</span>, <span class="stringliteral">&#39;camera&#39;</span>, <span class="stringliteral">&#39;sequence&#39;</span>]</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(key <span class="keywordflow">in</span> configs <span class="keywordflow">for</span> key <span class="keywordflow">in</span> required_keys):</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;Required value missing from JSON&#39;</span>)</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <span class="comment"># Verify the required camera values are present.</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    required_camera_keys = [<span class="stringliteral">&#39;name&#39;</span>]</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(key <span class="keywordflow">in</span> configs[<span class="stringliteral">&#39;camera&#39;</span>] <span class="keywordflow">for</span> key <span class="keywordflow">in</span> required_camera_keys):</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;Camera name missing from camera_properties in JSON&#39;</span>)</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment"># Fill in any optional camera values</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    default_camera_properties = {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        <span class="stringliteral">&#39;x&#39;</span>: 0.0,</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="stringliteral">&#39;y&#39;</span>: 0.0,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        <span class="stringliteral">&#39;z&#39;</span>: 0.0,</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        <span class="stringliteral">&#39;roll&#39;</span>: 0.0,</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <span class="stringliteral">&#39;pitch&#39;</span>: 1.5708,</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <span class="stringliteral">&#39;yaw&#39;</span>: 0.0</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    }</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordflow">for</span> key, _ <span class="keywordflow">in</span> default_camera_properties.items():</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <span class="keywordflow">if</span> key <span class="keywordflow">not</span> <span class="keywordflow">in</span> configs[<span class="stringliteral">&#39;camera&#39;</span>].keys():</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>            configs[<span class="stringliteral">&#39;camera&#39;</span>][key] = default_camera_properties[key]</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment"># Verify the required sequence values are present</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    required_sequence_keys = [<span class="stringliteral">&#39;texture_number&#39;</span>,</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>                              <span class="stringliteral">&#39;sequence_type&#39;</span>, <span class="stringliteral">&#39;sequence_number&#39;</span>]</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(key <span class="keywordflow">in</span> configs[<span class="stringliteral">&#39;sequence&#39;</span>] <span class="keywordflow">for</span> key <span class="keywordflow">in</span> required_sequence_keys):</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;Required sequence information is missing&#39;</span>)</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment"># Convert the texture number and sequence number to ints if not already</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        configs[<span class="stringliteral">&#39;sequence&#39;</span>][<span class="stringliteral">&#39;sequence_number&#39;</span>] = int(</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>            configs[<span class="stringliteral">&#39;sequence&#39;</span>][<span class="stringliteral">&#39;sequence_number&#39;</span>])</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordflow">except</span> (TypeError, ValueError) <span class="keyword">as</span> ex:</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;sequence_number must be an integer&#39;</span>) <span class="keyword">from</span> ex</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        configs[<span class="stringliteral">&#39;sequence&#39;</span>][<span class="stringliteral">&#39;texture_number&#39;</span>] = int(</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>            configs[<span class="stringliteral">&#39;sequence&#39;</span>][<span class="stringliteral">&#39;texture_number&#39;</span>])</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keywordflow">except</span> (TypeError, ValueError) <span class="keyword">as</span> ex:</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;texture_number must be an integer&#39;</span>) <span class="keyword">from</span> ex</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordflow">return</span> configs</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">ground_texture_sim.configuration_loader._load_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">ground_texture_sim.configuration_loader._load_config()</a>, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">ground_texture_sim.configuration_loader.load_configuration()</a>.</p>

</div>
</div>
<a id="a410ba44017ca8657e7d9b6bd9a166f3c" name="a410ba44017ca8657e7d9b6bd9a166f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410ba44017ca8657e7d9b6bd9a166f3c">&#9670;&nbsp;</a></span>_load_trajectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> List[List[float]] ground_texture_sim.configuration_loader._load_trajectory </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read in the poses from the trajectory file. </p>
<p >The file should be structured with one pose per line. The poses are stored as X, Y, Theta (whitespace is optional). The theta value should be in radians. These coordinates are where the "robot" will be placed in the simulated world.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file to read from. May be absolute or relative path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of poses, where each item in the list is a list of the form [x, y, theta]. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">FileNotFoundError</td><td>Raised if the file provided in filename does not exist. </td></tr>
    <tr><td class="paramname">RuntimeError</td><td>Raised if the pose format does not follow the correct structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="configuration__loader_8py_source.html#l00090">90</a> of file <a class="el" href="configuration__loader_8py_source.html">configuration_loader.py</a>.</p>
<div class="fragment"><div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword">def </span>_load_trajectory(filename: str) -&gt; List[List[float]]:</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="stringliteral">    </span><span class="preprocessor">@brief</span> Read <span class="keywordflow">in</span> the poses <span class="keyword">from</span> the trajectory file.</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    The file should be structured <span class="keyword">with</span> one pose per line. The poses are stored <span class="keyword">as</span> X, Y, Theta</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    (whitespace <span class="keywordflow">is</span> optional). The theta value should be <span class="keywordflow">in</span> radians. These coordinates are where the</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="stringliteral">&quot;robot&quot;</span> will be placed <span class="keywordflow">in</span> the simulated world.</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="preprocessor">@param</span> filename The file to read <span class="keyword">from</span>. May be absolute <span class="keywordflow">or</span> relative path.</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="preprocessor">@return</span> A list of poses, where each item <span class="keywordflow">in</span> the list <span class="keywordflow">is</span> a list of the form [x, y, theta].</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="preprocessor">@exception</span> FileNotFoundError Raised <span class="keywordflow">if</span> the file provided <span class="keywordflow">in</span> filename does <span class="keywordflow">not</span> exist.</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="preprocessor">@exception</span> RuntimeError Raised <span class="keywordflow">if</span> the pose format does <span class="keywordflow">not</span> follow the correct structure.</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="stringliteral">    result = []</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="stringliteral">    </span><span class="keyword">with</span> open(file=filename, mode=<span class="stringliteral">&#39;r&#39;</span>, encoding=<span class="stringliteral">&#39;utf8&#39;</span>) <span class="keyword">as</span> file:</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <span class="keywordflow">for</span> line <span class="keywordflow">in</span> file:</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            <span class="comment"># Strip off any whitespace and newlines</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            line = line.strip(<span class="stringliteral">&#39; \n\r\t&#39;</span>)</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            <span class="comment"># If the line is empty at this point, it is just a blank line and</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            <span class="comment"># can be skipped</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            <span class="keywordflow">if</span> len(line) == 0:</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>                <span class="keywordflow">continue</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            pose_strings = line.split()</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>            <span class="keywordflow">if</span> len(pose_strings) != 3:</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                    F<span class="stringliteral">&#39;Each pose must be 3 floats, separated by a space. Got: {line}&#39;</span>)</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>                single_pose = []</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>                <span class="keywordflow">for</span> element <span class="keywordflow">in</span> pose_strings:</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>                    single_pose.append(float(element))</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>                result.append(single_pose)</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> error:</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                    F<span class="stringliteral">&#39;Each pose must be 3 floats, separated by a space. Got: {line}&#39;</span>) <span class="keyword">from</span> error</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">ground_texture_sim.configuration_loader._load_trajectory()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">ground_texture_sim.configuration_loader._load_trajectory()</a>, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">ground_texture_sim.configuration_loader.load_configuration()</a>.</p>

</div>
</div>
<a id="a41050a2ff4e1589063cbac61d76c7026" name="a41050a2ff4e1589063cbac61d76c7026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41050a2ff4e1589063cbac61d76c7026">&#9670;&nbsp;</a></span>_parse_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str ground_texture_sim.configuration_loader._parse_args </td>
          <td>(</td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>args_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse the command line for the location of the configuration file. </p>
<p >Since this is only ever called as part of Blender, it must first remove any Blender-specific arguments. Blender ignores everything after a '&ndash;', so use that to split. Then, the only required argument is the JSON file location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args_list</td><td>The arguments straight from the command line </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The filename of the JSON. </dd></dl>

<p class="definition">Definition at line <a class="el" href="configuration__loader_8py_source.html#l00127">127</a> of file <a class="el" href="configuration__loader_8py_source.html">configuration_loader.py</a>.</p>
<div class="fragment"><div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="keyword">def </span>_parse_args(args_list: List[str]) -&gt; str:</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="stringliteral">    </span><span class="preprocessor">@brief</span> Parse the command line <span class="keywordflow">for</span> the location of the configuration file.</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    Since this <span class="keywordflow">is</span> only ever called <span class="keyword">as</span> part of Blender, it must first remove any Blender-specific</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    arguments. Blender ignores everything after a <span class="stringliteral">&#39;--&#39;</span>, so use that to split. Then, the only</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    required argument <span class="keywordflow">is</span> the JSON file location.</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="preprocessor">@param</span> args_list The arguments straight <span class="keyword">from</span> the command line</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="preprocessor">@return</span> The filename of the JSON.</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="stringliteral">    </span><span class="keywordflow">if</span> <span class="stringliteral">&#39;--&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> args_list:</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        args_list = []</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        args_list = args_list[args_list.index(<span class="stringliteral">&#39;--&#39;</span>) + 1:]</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    parser = argparse.ArgumentParser(</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        description=<span class="stringliteral">&#39;A script to generate texture data in Blender.&#39;</span>)</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    parser.add_argument(</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <span class="stringliteral">&#39;parameter_file&#39;</span>, help=<span class="stringliteral">&#39;The JSON file specifying all parameters.&#39;</span>)</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    parsed_args = parser.parse_args(args_list)</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    param_file = parsed_args.parameter_file</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">return</span> param_file</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">ground_texture_sim.configuration_loader._parse_args()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">ground_texture_sim.configuration_loader._parse_args()</a>, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">ground_texture_sim.configuration_loader.load_configuration()</a>.</p>

</div>
</div>
<a id="a9304abcfe1012a954e4a95f59eb3e1be" name="a9304abcfe1012a954e4a95f59eb3e1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9304abcfe1012a954e4a95f59eb3e1be">&#9670;&nbsp;</a></span>load_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[Dict, List[List[float]]] ground_texture_sim.configuration_loader.load_configuration </td>
          <td>(</td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>args_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the command line and read configuration information provided by the arguments. </p>
<p >This function calls <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">_parse_args</a> to determine which configuration file to load, <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">_load_config</a> to actually read it in and verify correctness, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">_load_trajectory</a> to read in the list of poses. If any fail, it throws an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args_list</td><td>The arguments straight from the command line. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing a well-formatted Dict of settings and a list of trajectories, where each item in the list is a list of the form [x, y, theta]. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">FileNotFoundError</td><td>Raised if the config or trajectory files do not exist </td></tr>
    <tr><td class="paramname">JSONDecoderError</td><td>Raised if the file is not in JSON format. </td></tr>
    <tr><td class="paramname">KeyError</td><td>Raised if the required entries are not present in the JSON. </td></tr>
    <tr><td class="paramname">RuntimeError</td><td>Raised if the pose format does not follow the correct structure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="configuration__loader_8py_source.html#l00010">10</a> of file <a class="el" href="configuration__loader_8py_source.html">configuration_loader.py</a>.</p>
<div class="fragment"><div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="keyword">def </span>load_configuration(args_list: List[str]) -&gt; Tuple[Dict, List[List[float]]]:  <span class="comment"># pragma: no cover</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="stringliteral">    </span><span class="preprocessor">@brief</span> Parse the command line <span class="keywordflow">and</span> read configuration information provided by the arguments.</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>    This function calls <span class="preprocessor">@ref</span> _parse_args to determine which configuration file to load,</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>    <span class="preprocessor">@ref</span> _load_config to actually read it <span class="keywordflow">in</span> <span class="keywordflow">and</span> verify correctness, <span class="keywordflow">and</span> <span class="preprocessor">@ref</span> _load_trajectory to</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    read <span class="keywordflow">in</span> the list of poses. If any fail, it throws an error.</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    <span class="preprocessor">@param</span> args_list The arguments straight <span class="keyword">from</span> the command line.</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    <span class="preprocessor">@return</span> A tuple containing a well-formatted Dict of settings <span class="keywordflow">and</span> a list of trajectories, where</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    each item <span class="keywordflow">in</span> the list <span class="keywordflow">is</span> a list of the form [x, y, theta].</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <span class="preprocessor">@exception</span> FileNotFoundError Raised <span class="keywordflow">if</span> the config <span class="keywordflow">or</span> trajectory files do <span class="keywordflow">not</span> exist</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <span class="preprocessor">@exception</span> JSONDecoderError Raised <span class="keywordflow">if</span> the file <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> JSON format.</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    <span class="preprocessor">@exception</span> KeyError Raised <span class="keywordflow">if</span> the required entries are <span class="keywordflow">not</span> present <span class="keywordflow">in</span> the JSON.</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <span class="preprocessor">@exception</span> RuntimeError Raised <span class="keywordflow">if</span> the pose format does <span class="keywordflow">not</span> follow the correct structure.</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="stringliteral">    config_file = _parse_args(args_list=args_list)</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="stringliteral">    config_dict = _load_config(config_file)</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="stringliteral">    trajectory_list = _load_trajectory(config_dict[&#39;trajectory&#39;</span>])</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="keywordflow">return</span> config_dict, trajectory_list</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a201389d7877621877ffa1b216d3a3e9c">ground_texture_sim.configuration_loader._load_config()</a>, <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a410ba44017ca8657e7d9b6bd9a166f3c">ground_texture_sim.configuration_loader._load_trajectory()</a>, <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a41050a2ff4e1589063cbac61d76c7026">ground_texture_sim.configuration_loader._parse_args()</a>, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">ground_texture_sim.configuration_loader.load_configuration()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classground__texture__sim_1_1script__runner_1_1GroundTextureSim.html#aad07a46bf28a60cceb678c14a87cdf84">ground_texture_sim.script_runner.GroundTextureSim.__init__()</a>, and <a class="el" href="namespaceground__texture__sim_1_1configuration__loader.html#a9304abcfe1012a954e4a95f59eb3e1be">ground_texture_sim.configuration_loader.load_configuration()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
